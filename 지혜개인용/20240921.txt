
~21햇던거

- 메인페이지
  글목록 페이징
  카테고리, 탭 선택에 따른 글목록 출력
  글 등록일 형태구분출력(현재와 비교) : 등록일이 오늘이면 시:분, 오늘이전이면 월.일, 올해이전이면 년.월.일
  
- 글상세페이지
  게시글보기, 글 줄바꿈처리
  조회수 처리
  
- 추천
  추천 비동기요청
  
- 댓글
  댓글 작성
  댓글출력
  댓글 작성자표시 (글작성자와 댓글작성자가 일치할경우 스타일)
  비로그인 시 댓글폼 숨김
  
- 글쓰기페이지
  글 작성(이미지업로드), 수정, 삭제 
  
- 접근제한
  글작성페이지 로그인검사와 접근제한(url직접접근시/세션만료시/비정상적접근요청시)
  삭제된게시글 접근제한(url직접접근시/비정상적접근요청시)
  작성자와 일치하지 않는 유저or비로그인유저의 수정/삭제 페이지 접근제한 (url직접접근시/세션만료시/비정상적접근요청시)



22일 오늘한거 ! !

- 메인페이지
  인기글부여/스타일적용
  인기글영역 목록 출력 / 인기글글자 클릭시 인기글탭으로
  게시판제목 카테고리별 다르게 출력 / 클릭시 해당카테고리 1페이지로
  인기글목록 없을경우 / 인기글제목,작성자표시(댓글) 스타일수정
  검색결과 메세지 출력

- 추천
  비로그인회원 추천 제한/동일인 중복 추천 제한
   
- 댓글
  댓글수정/답글클릭시 수정폼/대댓폼 노출 후 포커스
  댓글등록 비동기처리로 수정

- 에러처리
  에러페이지 처리




23일 한거

- 메인페이지
  탭 선택된 상태에서 카테고리 이동하면 탭은 유지하지않도록 수정
  글 수정/삭제 성공시 성공메세지 띄운 후 보고있던 카테고리 유지하며 리다이렉트
  글 수정/삭제 실패시 실패메세지 띄운 후 보고있던 카테고리 유지하며 리다이렉트

- 글쓰기
  보던 카테고리와 글쓰기로 이동시 선택되어있는 카테고리 일치시키기
  글쓰기한 카테고리와 글작성시 리다이렉트 되는 목록페이지 카테고리 일치시키기

- 댓글
  비동기로 등록된 댓글 작성시간처리 (페이지가 로드된기준시각으로만 출력되던 문제수정)
  댓글 비동기등록시 총 댓글수도 비동기로 업데이트
  댓글 비동기삭제시 총 댓글수도 비동기로 업데이트
  댓글 삭제기능 / 비동기댓글 또한 똑같이 처리
   ㄴ 
     스테이터스가 0인거 : 정상출력
     스테이터스가 9면서 자식댓글이 있는거 : '삭제된 댓글입니다.' 로 내용출력(DB변경X 출력내용O)
     스테이터스가 9면서 자식댓글이 없는거 : 미출력
  비동기로 삭제된 댓글(status가 9이면서 대댓글이 있는글)은 답글/수정/삭제 버튼 미출력
  댓글줄바꿈처리 / 비동기로 표시되는것도 <-이거 수정에서 보여주는 기존메세지엔 적용 안됨

- 에러처리
  글or댓글 등록/수정/삭제 실패처리 (서블릿에서 에러페이지.jsp로 리다이렉트)



25일 한거

- 댓글
  무한대댓글 !!!!!!!!!!!!!!!!!!!!ㅜㅜㅜㅜㅜㅜ
  대댓글 들여쓰기
  답글 작성 후 폼 off
  댓글 페이징
  답글이나 수정폼 토글 시 내용 초기화 
  대댓글의 경우 자식댓글을 감지하지 못하는 문제 해결 (자식이 잇을 시 '삭제된댓글입니다' / 없을시 미출력)
  수정폼 유효성 검사
  
  
  
26일 한거
- 댓글
  1. 댓글 작성 비동기요청 시 일일히 태그를 생성하는게 아닌,
  서블릿에서 list로 반환받은 데이터를 반복문으로 태그를 만든 html(jsp)자체를 채워넣음 ! (컨테이너를 비우고 html을 채우는방식)
  -기존 : 현재페이지에서 요청이 있을 때마다 일일히 태그를 전부 만들어서 append하는 방식
  
  2. 답글또한 기존방식에서 위 방식으로 수정
  
  3. 각종 스타일값 소소하게 수정
  
  
27일 한거
  1. 댓글 수정 비동기요청 - 수정 시 (수정됨) <-표시
  2. 삭제 비동기요청 - 자손잇으면 '삭제된댓글' 없으면 미출력
  

29일 한거
  1. 댓글 페이징을 위한 댓글리스트 추출조건 재정립
    1) comment 테이블에 totalChild컬럼 추가
    2) 쿼리에서 status=0/9 모두 가져와 이후에 자식댓글수 유무로 필터링 하는방식 -> 쿼리 조건절에 totalChild>0 추가로 미리 추출하는 방식
    3) 따라서 start/end 값 변동없도록 변경
    
30일 한거
  1. 댓글 수정/삭제 시에 영향받는 모든댓글(ref가 같고 pos는 낮은)들의 totalChild값 업데이트 <- 보완이 필요함. 자신과 동조상,동레벨의 다른댓글의 자식도 자기자식으로 인식하는 문제점
  2. 대댓글/수정폼 토글 시 다른 폼 다 숨김
  3. 댓글 수정, 삭제 요청 시 다시한번 권한검사
  
31일 한거
  1. 댓글 페이징 비동기처리
  2. 비동기로 댓글수정,답글작성시에는 기존페이지 유지 / 댓글작성 시에는 1페이지로
  3. 헤더 css 변경사항 적용
  4. 모든(작성,수정,답글,삭제) 글/댓글폼 submit 시 다시한번 로그인검사, 작성자일치검사
  5. 글제목이 짱길면 댓글수 숨겨지는 문제 수정
  6. 각종 스크롤처리 함수 - 댓글 바로가기버튼 클릭시/새댓글 작성 시/본문 바로가기버튼 클릭 시/페이지 요청시
  7. 에러페이지 (없는 글번호 요청시 에러페이지로 포워딩)
  8. 사진 alt 처리 (boardtbl 컬럼추가)
  9. 글 수정 시 선택파일(이미지) 없어지는 문제 해결
  10. 기본댓글정렬 !!! <- 페이지단위로는 뒤로갈수록 내림차, 페이지안 댓글정렬은 오름차 (페이지 맨위댓글의 대댓이 다음페이지 맨아래로 뻇기는 문제점 잇음)
  11. 글작성시 관련서적 검색기능 비동기로 구현
  
2일 한거
  1. 관련서적이 있을 시 글읽기에서 해당도서 상품페이지로 이동하는 링크 출력
  2. 글 읽은 페이지에서 글쓰기 에러나는 문제해결(parameter 안보냄)
  3. 글읽기, 쓰기페이지에서 연관서적 관련 이미지와 alt처리(이미지 없을시 대체이미지)
  4. 지금 핫한책 추가
  5. 글보기 -> 목록 이동시 카테고리만 유지
  
3일 한거
  1. 댓글 페이징블럭이동 중복코드 제거
  2. mvc2패턴?으로 변경(view페이지와 java코드의 분리) - 메인페이지 완료
  3. 빈즈에 base64인코딩 된 이미지 필드추가
  
4일 한거
  1. 읽었던 게시글 제목은 연하게 표시
---
할거 ~~
- 중복되는코드병합/제거
- 뷰페이지 깨끗하게정리 각종연산은 서블릿과 DAO에서한 후 결과값만 보냄
- 페이지 맨위댓글의 대댓이 다음페이지 맨아래로 뻇기는 문제점 해결
- 애매...) 출력삭제댓글(자손존재삭제댓글) 처리를 위한 모든 댓글~대댓글들의 자식을포함한 총 자손갯수 구해서 db에 업데이트 하는 로직 구현 (햇는데약간이상)

- 댓글 정렬옵션에 따른 출력

- 삭제된 글에대한 뒤로가기를 통한 접근제한(페이지가 리로드되면 제한이 되는데 그렇지 않으면 안됨--이건 다른사이트도 마찬가지인데, 비밀번호넣고 삭제버튼누르거나 댓글등록할 땐 막아야함.. 댓글쓰면 DB에도 들어가네 추천도그럴듯)
- 댓글 수정폼에서 기존댓글 줄바꿈이 적용된게아닌 태그로표시됨
- 글작성 시 버튼 두번해야 submit 되는 문제 해결
